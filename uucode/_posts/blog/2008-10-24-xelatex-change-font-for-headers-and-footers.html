---
layout: post
title: 'XeLaTeX: change font for headers and footers'
date: 2008-10-24 11:32:04.000000000 +02:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- publishing
- TeX
tags: []
meta: {}
author:
  login: olpa
  email: olpa@uucode.com
  display_name: olpa
  first_name: Oleg
  last_name: Paraschenko
permalink: "/blog/2008/10/24/xelatex-change-font-for-headers-and-footers/"
---
<p>I've noticed that headers and footers of the documents, generated by XeLaTeX, use some other font instead of Helvetica. After digging into the LaTeX code, the problem is solved.</p>
<p><!--more--></p>
<p><b>Finding 1:</b> the LaTeX's output procedure uses <tt>\reset@font</tt>.</p>
<p><b>Finding 2:</b> this command defined in <tt>latex.ltx</tt> as:</p>
<pre><code>\let\reset@font\normalfont</code></pre>
<p><b>Idea 1:</b> So, I should re-define <tt>\normalfont</tt> to switch to the desired font (<tt>\switchtomainfont</tt> is a command defined through the XeLaTeX-specific command <tt>\newfontface</tt>):</p>
<pre><code>\let\normalfont\switchtomainfont</code></pre>
<p>But it didn't help. It looked like the command was not called at all.</p>
<p><b>Finding 4: </b> actually, in runtime <tt>\reset@font</tt> is defined as:</p>
<pre><code>\protect\normalfont</code></pre>
<p>But it should make no difference.</p>
<p><b>Finding 5:</b> activating macrotracing, I found that my <tt>\normalfont</tt> was expanded as:</p>
<pre><code>
\reset@font ->\protect \normalfont  
\normalfont  ->\usefont \encodingdefault \familydef
  ault \seriesdefault \shapedefault \relax
</code></pre>
<p>What? Why this expansion instead of what expected?</p>
<p><b>Finding 6:</b> <tt>\reset@font</tt> uses not "<tt>\normalfont</tt>" but "<tt>\normalfont </tt>". Command name includes the space at the end!</p>
<p><b>Solution:</b></p>
<pre><code>
\let\normalfont\switchtomainfont
\expandafter\let\csname normalfont \endcsname\switchtomainfont
</code></pre>
<p><b>Hint:</b> maybe use of <tt>\setromanfont</tt> would fix my problem before it appears, but I can't make this command working on my Linux system. But as far as I remember, it worked under Mac.</p>
